# Admin Server Bootstrap Configuration
# This is the ONLY configuration file - all other config comes from Zookeeper

spring:
  application:
    name: admin-server
  cloud:
    # Disable Eureka when using ZooKeeper for service discovery
    service-registry:
      auto-registration:
        enabled: false
    # ZooKeeper Configuration
    zookeeper:
      connect-string: zookeeper.mysillydreams-dev:2181
      config:
        enabled: true
        root: /config
        default-context: admin-server
        profile-separator: ','
        fail-fast: true
      discovery:
        enabled: false
        register: false
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}

# MINIMAL server configuration - port only
server:
  port: ${SERVER_PORT:8083}

# MINIMAL logging - everything else from ZooKeeper
logging:
  level:
    root: ${ROOT_LOG_LEVEL:INFO}
    # Spring Cloud Bootstrap debugging
    org.springframework.cloud.bootstrap: DEBUG
    org.springframework.cloud.context: DEBUG
    org.springframework.cloud.config: DEBUG
    # ZooKeeper specific debugging
    org.springframework.cloud.zookeeper: DEBUG
    org.apache.curator: DEBUG
    org.apache.zookeeper: DEBUG

# Enable debug mode for detailed startup information
debug: true

# Management endpoints for debugging
management:
  endpoints:
    web:
      exposure:
        include: "health,info,env,configprops,beans"
  endpoint:
    health:
      show-details: always
