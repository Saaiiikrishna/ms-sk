spring:
  application:
    name: order-api

keycloak:
  realm: MyRealm
  auth-server-url: ${KEYCLOAK_URL}/auth
  resource: order-api-client
  credentials:
    secret: ${KEYCLOAK_SECRET}
  bearer-only: true

kafka:
  bootstrap-servers: ${KAFKA_BROKER:localhost:9092} # Default to localhost:9092 if KAFKA_BROKER is not set
  topics:
    orderCreated: order.created
    orderCancelled: order.cancelled

app:
  idempotency:
    cache-ttl-minutes: 60

# Default Spring Boot Actuator settings for observability
management:
  endpoints:
    web:
      exposure:
        include: "*" # exposing all endpoints for now, can be restricted
  metrics:
    tags:
      application: ${spring.application.name}
    distribution:
      percentiles-histogram:
        http.server.requests: true # enable histograms for request latencies
# Logging properties
logging:
  level:
    com.mysillydreams.orderapi: INFO # Corrected package name
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %X{traceId:-N/A} %X{spanId:-N/A} %X{idempotencyKey:-} %X{orderId:-} %X{customerId:-} %-5level %logger{36} - %msg%n"
